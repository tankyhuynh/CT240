{"version":3,"sources":["./src/app/auth/auth-routing.module.ts","./src/app/auth/signup/signup.component.ts","./src/app/auth/signup/signup.component.html","./src/app/auth/auth.module.ts","./src/app/auth/login/login.component.ts","./src/app/auth/login/login.component.html"],"names":[],"mappings":"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","file":"auth-auth-module.js","sourcesContent":["import { NgModule } from \"@angular/core\";\nimport { Router, RouterModule, Routes } from \"@angular/router\";\nimport { LoginComponent } from \"./login/login.component\";\nimport { SignupComponent } from  \"./signup/signup.component\";\n\nconst routes: Routes = [\n  {path: 'login', component: LoginComponent},\n  {path: 'signup', component: SignupComponent},\n]\n\n@NgModule({\n  imports: [\n    RouterModule.forChild(routes)\n  ],\n  exports: [RouterModule]\n})\nexport class AuthRoutingModule {}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, NgForm, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { repeatWhen } from 'rxjs/operators';\nimport { AutheService } from '../auth.service';\nimport { mimeType } from './mime-type.validator';\n\n\n@Component({\n  selector: 'app-signup',\n  templateUrl: './signup.component.html',\n  styleUrls: ['../auth.component.css']\n})\nexport class SignupComponent implements OnInit, OnDestroy {\n\n  isLoading = false;\n  private authStatusSub: Subscription;\n\n  form: FormGroup;\n\n  imageURL: string;\n\n  constructor(public authService: AutheService) { }\n\n  ngOnInit(): void {\n    this.authStatusSub = this.authService.getAuthStatusListener()\n          .subscribe(authStatus => {\n\n          });\n\n  this.form = new FormGroup({\n    'name': new FormControl(null, {\n      validators: [Validators.required, Validators.minLength(3)]}),\n    'phone': new FormControl(null, {\n      validators: [Validators.required, Validators.minLength(10), Validators.maxLength(10)]}),\n    'password': new FormControl(null, {\n      validators: [Validators.required]\n    }),\n    'repassword': new FormControl(null, {\n      validators: [Validators.required]\n    }),\n    'avatar': new FormControl(\"https://images.pexels.com/photos/4397900/pexels-photo-4397900.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\", {\n      validators: [Validators.required],\n      asyncValidators: [mimeType]\n    })\n  });\n  }\n\n\n  onSignup(){\n    if(this.form.invalid){\n      console.log(\"Invalid form !!!!\");\n      return;\n    }\n    if(this.form.value.password !== this.form.value.repassword){\n      console.log(\"Password not mat ched !!!!\");\n      return ;\n    }\n    this.authService\n          .createUser(\n            this.form.value.name,\n            this.form.value.phone,\n            this.form.value.password,\n            this.form.value.avatar );\n\n  }\n\n  onFilePicked(event: Event) {\n    const file = (event.target as HTMLInputElement).files[0];\n    this.form.patchValue({image: file});\n    this.form.get('avatar').updateValueAndValidity();\n\n    const reader = new FileReader();\n    reader.onload = () => {\n      this.imageURL = reader.result as string;\n    };\n    reader.readAsDataURL(file);\n  }\n\n  ngOnDestroy(){\n    this.authStatusSub.unsubscribe();\n  }\n\n}\n","<mat-spinner *ngIf=\"isLoading\"></mat-spinner>\n\n\n\n<div class=\"container-fluid\">\n  <div class=\"row justify-content-center\">\n    <div class=\"form-log-res\">\n      <form\n        [formGroup]=\"form\"\n        (submit)=\"onSignup()\"\n        *ngIf=\"!isLoading\"\n      >\n        <div class=\"row justify-content-center\">\n          <input\n            class=\"form-input\"\n            type=\"text\"\n            matInput\n            name=\"name\"\n            formControlName=\"name\"\n            placeholder=\"Họ và tên\"\n          />\n          <mat-error *ngIf=\"form.get('name').invalid\">\n            Họ và tên có độ dài tối thiểu 3 kí tự\n          </mat-error>\n        </div>\n        <div class=\"row justify-content-center\">\n          <input\n            class=\"form-input\"\n            matInput\n            type=\"text\"\n            name=\"phone\"\n            formControlName=\"phone\"\n            placeholder=\"Số điện thoại\"\n          />\n          <mat-error *ngIf=\"form.get('phone').invalid\">\n            Số điện thoại gồm 10 chữ số\n          </mat-error>\n        </div>\n        <div class=\"row justify-content-center\">\n          <input\n            class=\"form-input\"\n            matInput\n            type=\"password\"\n            name=\"password\"\n            formControlName=\"password\"\n            #pass\n            placeholder=\"Mật khẩu\"\n          />\n          <mat-error *ngIf=\"form.get('password').invalid\">\n            Mật khẩu không hợp lệ\n          </mat-error>\n        </div>\n        <div class=\"row justify-content-center\">\n          <input\n            class=\"form-input\"\n            matInput\n            type=\"password\"\n            name=\"repassword\"\n            formControlName=\"repassword\"\n            #confirmPass\n            placeholder=\"Xác nhận mật khẩu\"\n          />\n          <mat-error *ngIf=\"pass.value !== confirmPass.value\">\n            Mật khẩu không khớp\n          </mat-error>\n        </div>\n\n        <div class=\"row justify-content-end\">\n          <button [disabled]=\"pass.value !== confirmPass.value\" type=\"submit\" class=\"form-submit\">Đăng ký</button>\n        </div>\n      </form>\n    </div>\n  </div>\n</div>\n","import { CommonModule } from \"@angular/common\";\nimport { NgModule } from \"@angular/core\";\nimport { ReactiveFormsModule } from \"@angular/forms\";\nimport { AngularMaterialModule } from \"../angular-material.module\";\n\nimport { LoginComponent } from './login/login.component'\nimport { SignupComponent } from './signup/signup.component'\nimport { AuthRoutingModule } from './auth-routing.module'\n\n@NgModule({\n  declarations: [\n    LoginComponent,\n    SignupComponent\n  ],\n  imports: [\n    CommonModule,\n    AngularMaterialModule,\n    AuthRoutingModule,\n    ReactiveFormsModule\n  ]\n})\nexport class AuthModule {}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, NgForm, Validators } from '@angular/forms';\nimport { Subscription } from 'rxjs';\nimport { ProfileService } from 'src/app/personal-information/profile.service';\nimport { AutheService } from '../auth.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['../auth.component.css']\n})\nexport class LoginComponent implements OnInit, OnDestroy {\n\n  isLoading = false;\n  private authStatusSub: Subscription;\n\n  form: FormGroup;\n\n  constructor(\n    public authSevice: AutheService,\n    public profileService: ProfileService) { }\n\n  ngOnInit(): void {\n    this.authStatusSub = this.authSevice.getAuthStatusListener()\n          .subscribe(authStatus => {\n\n          });\n\n    this.form = new FormGroup({\n      'phone': new FormControl(null, {\n        validators: [Validators.required]}),\n      'password': new FormControl(null, {\n        validators: [Validators.required]\n      })\n\n    });\n  }\n\n  onLogin(){\n    if (this.form.invalid) {\n      return;\n    }\n    this.authSevice.login(this.form.value.phone, this.form.value.password);\n    localStorage.setItem(\"phone\", this.form.value.phone);\n\n  }\n\n  ngOnDestroy(){\n    this.authStatusSub.unsubscribe();\n  }\n\n}\n","<mat-spinner *ngIf=\"isLoading\"></mat-spinner>\n<div class=\"container-fluid\">\n  <div class=\"row justify-content-center\">\n    <div class=\"form-log-res\">\n      <form\n        [formGroup]=\"form\"\n        (submit)=\"onLogin()\"\n        *ngIf=\"!isLoading\"\n      >\n        <div class=\"row justify-content-center\">\n          <input\n            class=\"form-input\"\n            matInput\n            type=\"text\"\n            name=\"mobilePhone\"\n            formControlName=\"phone\"\n            placeholder=\"Số điện thoại\"\n          />\n        </div>\n        <div class=\"row justify-content-center\">\n          <input\n            class=\"form-input\"\n            matInput\n            type=\"password\"\n            name=\"password\"\n            formControlName=\"password\"\n            placeholder=\"Mật khẩu\"\n          />\n        </div>\n\n        <div class=\"row justify-content-end\">\n          <button type=\"submit\" class=\"form-submit\">Đăng nhập</button>\n        </div>\n      </form>\n    </div>\n  </div>\n</div>\n"],"sourceRoot":"webpack:///"}