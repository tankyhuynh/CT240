{"version":3,"sources":["./src/app/auth/auth-routing.module.ts","./src/app/auth/signup/signup.component.ts","./src/app/auth/signup/signup.component.html","./src/app/auth/auth.module.ts","./src/app/auth/login/login.component.ts","./src/app/auth/login/login.component.html"],"names":[],"mappings":"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","file":"auth-auth-module.js","sourcesContent":["import { NgModule } from \"@angular/core\";\r\nimport { Router, RouterModule, Routes } from \"@angular/router\";\r\nimport { LoginComponent } from \"./login/login.component\";\r\nimport { SignupComponent } from  \"./signup/signup.component\";\r\n\r\nconst routes: Routes = [\r\n  {path: 'login', component: LoginComponent},\r\n  {path: 'signup', component: SignupComponent},\r\n]\r\n\r\n@NgModule({\r\n  imports: [\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  exports: [RouterModule]\r\n})\r\nexport class AuthRoutingModule {}\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, NgForm, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { Subscription } from 'rxjs';\r\nimport { repeatWhen } from 'rxjs/operators';\r\nimport { AutheService } from '../auth.service';\r\nimport { mimeType } from './mime-type.validator';\r\n\r\n\r\n@Component({\r\n  selector: 'app-signup',\r\n  templateUrl: './signup.component.html',\r\n  styleUrls: ['../auth.component.css']\r\n})\r\nexport class SignupComponent implements OnInit, OnDestroy {\r\n\r\n  isLoading = false;\r\n  private authStatusSub: Subscription;\r\n\r\n  form: FormGroup;\r\n\r\n  imageURL: string;\r\n\r\n  constructor(public authService: AutheService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.authStatusSub = this.authService.getAuthStatusListener()\r\n          .subscribe(authStatus => {\r\n\r\n          });\r\n\r\n  this.form = new FormGroup({\r\n    'name': new FormControl(null, {\r\n      validators: [Validators.required, Validators.minLength(3)]}),\r\n    'phone': new FormControl(null, {\r\n      validators: [Validators.required]}),\r\n    'password': new FormControl(null, {\r\n      validators: [Validators.required]\r\n    }),\r\n    'repassword': new FormControl(null, {\r\n      validators: [Validators.required]\r\n    }),\r\n    'avatar': new FormControl(\"https://images.pexels.com/photos/4397900/pexels-photo-4397900.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\", {\r\n      validators: [Validators.required],\r\n      asyncValidators: [mimeType]\r\n    })\r\n  });\r\n  }\r\n\r\n\r\n  onSignup(){\r\n    if(this.form.invalid){\r\n      console.log(\"Invalid form !!!!\");\r\n      return;\r\n    }\r\n    if(this.form.value.password !== this.form.value.repassword){\r\n      console.log(\"Password not mat ched !!!!\");\r\n      return ;\r\n    }\r\n    this.authService\r\n          .createUser(\r\n            this.form.value.name,\r\n            this.form.value.phone,\r\n            this.form.value.password,\r\n            this.form.value.avatar );\r\n\r\n  }\r\n\r\n  onFilePicked(event: Event) {\r\n    const file = (event.target as HTMLInputElement).files[0];\r\n    this.form.patchValue({image: file});\r\n    this.form.get('avatar').updateValueAndValidity();\r\n\r\n    const reader = new FileReader();\r\n    reader.onload = () => {\r\n      this.imageURL = reader.result as string;\r\n    };\r\n    reader.readAsDataURL(file);\r\n  }\r\n\r\n  ngOnDestroy(){\r\n    this.authStatusSub.unsubscribe();\r\n  }\r\n\r\n}\r\n","<mat-spinner *ngIf=\"isLoading\"></mat-spinner>\r\n\r\n\r\n\r\n<div class=\"container-fluid\">\r\n  <div class=\"row justify-content-center\">\r\n    <div class=\"form-log-res\">\r\n      <form\r\n        [formGroup]=\"form\"\r\n        (submit)=\"onSignup()\"\r\n        *ngIf=\"!isLoading\"\r\n      >\r\n        <div class=\"row justify-content-center\">\r\n          <input\r\n            class=\"form-input\"\r\n            type=\"text\"\r\n            matInput\r\n            name=\"name\"\r\n            formControlName=\"name\"\r\n            placeholder=\"Họ và tên\"\r\n          />\r\n          <mat-error *ngIf=\"form.get('name').invalid\">\r\n            Họ và tên có độ dài tối thiểu 3 kí tự\r\n          </mat-error>\r\n        </div>\r\n        <div class=\"row justify-content-center\">\r\n          <input\r\n            class=\"form-input\"\r\n            matInput\r\n            type=\"text\"\r\n            name=\"phone\"\r\n            formControlName=\"phone\"\r\n            placeholder=\"Số điện thoại\"\r\n          />\r\n          <mat-error *ngIf=\"form.get('phone').invalid\">\r\n            Số điện thoại gồm 10 chữ số\r\n          </mat-error>\r\n        </div>\r\n        <div class=\"row justify-content-center\">\r\n          <input\r\n            class=\"form-input\"\r\n            matInput\r\n            type=\"password\"\r\n            name=\"password\"\r\n            formControlName=\"password\"\r\n            #pass\r\n            placeholder=\"Mật khẩu\"\r\n          />\r\n          <mat-error *ngIf=\"form.get('password').invalid\">\r\n            Mật khẩu không hợp lệ\r\n          </mat-error>\r\n        </div>\r\n        <div class=\"row justify-content-center\">\r\n          <input\r\n            class=\"form-input\"\r\n            matInput\r\n            type=\"password\"\r\n            name=\"repassword\"\r\n            formControlName=\"repassword\"\r\n            #confirmPass\r\n            placeholder=\"Xác nhận mật khẩu\"\r\n          />\r\n          <mat-error *ngIf=\"pass.value !== confirmPass.value\">\r\n            Mật khẩu không khớp\r\n          </mat-error>\r\n        </div>\r\n\r\n        <div class=\"row justify-content-end\">\r\n          <button [disabled]=\"pass.value !== confirmPass.value\" type=\"submit\" class=\"form-submit\">Đăng ký</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { CommonModule } from \"@angular/common\";\r\nimport { NgModule } from \"@angular/core\";\r\nimport { ReactiveFormsModule } from \"@angular/forms\";\r\nimport { AngularMaterialModule } from \"../angular-material.module\";\r\n\r\nimport { LoginComponent } from './login/login.component'\r\nimport { SignupComponent } from './signup/signup.component'\r\nimport { AuthRoutingModule } from './auth-routing.module'\r\n\r\n@NgModule({\r\n  declarations: [\r\n    LoginComponent,\r\n    SignupComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    AngularMaterialModule,\r\n    AuthRoutingModule,\r\n    ReactiveFormsModule\r\n  ]\r\n})\r\nexport class AuthModule {}\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, NgForm, Validators } from '@angular/forms';\r\nimport { Subscription } from 'rxjs';\r\nimport { ProfileService } from 'src/app/personal-information/profile.service';\r\nimport { AutheService } from '../auth.service';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['../auth.component.css']\r\n})\r\nexport class LoginComponent implements OnInit, OnDestroy {\r\n\r\n  isLoading = false;\r\n  private authStatusSub: Subscription;\r\n\r\n  form: FormGroup;\r\n\r\n  constructor(\r\n    public authSevice: AutheService,\r\n    public profileService: ProfileService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.authStatusSub = this.authSevice.getAuthStatusListener()\r\n          .subscribe(authStatus => {\r\n\r\n          });\r\n\r\n    this.form = new FormGroup({\r\n      'phone': new FormControl(null, {\r\n        validators: [Validators.required]}),\r\n      'password': new FormControl(null, {\r\n        validators: [Validators.required]\r\n      })\r\n\r\n    });\r\n  }\r\n\r\n  onLogin(){\r\n    if (this.form.invalid) {\r\n      return;\r\n    }\r\n    this.authSevice.login(this.form.value.phone, this.form.value.password);\r\n    localStorage.setItem(\"phone\", this.form.value.phone);\r\n\r\n  }\r\n\r\n  ngOnDestroy(){\r\n    this.authStatusSub.unsubscribe();\r\n  }\r\n\r\n}\r\n","<mat-spinner *ngIf=\"isLoading\"></mat-spinner>\r\n<div class=\"container-fluid\">\r\n  <div class=\"row justify-content-center\">\r\n    <div class=\"form-log-res\">\r\n      <form\r\n        [formGroup]=\"form\"\r\n        (submit)=\"onLogin()\"\r\n        *ngIf=\"!isLoading\"\r\n      >\r\n        <div class=\"row justify-content-center\">\r\n          <input\r\n            class=\"form-input\"\r\n            matInput\r\n            type=\"text\"\r\n            name=\"mobilePhone\"\r\n            formControlName=\"phone\"\r\n            placeholder=\"Số điện thoại\"\r\n          />\r\n        </div>\r\n        <div class=\"row justify-content-center\">\r\n          <input\r\n            class=\"form-input\"\r\n            matInput\r\n            type=\"password\"\r\n            name=\"password\"\r\n            formControlName=\"password\"\r\n            placeholder=\"Mật khẩu\"\r\n          />\r\n        </div>\r\n\r\n        <div class=\"row justify-content-end\">\r\n          <button type=\"submit\" class=\"form-submit\">Đăng nhập</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n"],"sourceRoot":"webpack:///"}